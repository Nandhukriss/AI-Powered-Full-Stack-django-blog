{% extends 'base.html' %}


{% block content %}
<link rel="stylesheet" href="https://unpkg.com/bs-brain@2.0.2/components/blogs/blog-5/assets/css/blog-5.css">

  <style>
   
  
      #intro {
        /* Margin to fix overlapping fixed navbar */
        margin-top: 58px;
      }
      @media (max-width: 991px) {
        #intro {
          /* Margin to fix overlapping fixed navbar */
          margin-top: 45px;
        }
      }

      #cover {
      background-image: url("http://thepursuitoflearning.weebly.com/uploads/7/7/9/5/77955410/edulinkedin2_orig.png");
      width: 100%;
      overflow: hidden;
      object-fit: cover;
      height: 450px; /* Default height for larger screens */
      
      /* Adjust height for smaller screens */
      @media (max-width: 767px) {
        
        background-image: url("https://abound.college/finishcollege/wp-content/uploads/sites/2/2022/03/best-online-bachelor-degree-programs-of-2021-1100x672.jpeg");
        
      overflow: hidden;
      object-fit: cover;
      height: 450px;
      }
      }

      /* Additional styles for the content within the cover */

      @media (max-width: 768px) {
      #cover {
      height: 300px;  /* Adjust the height for smaller screens */
      width:500px; /* Adjust the height for smaller screens */
      }
      }
/* .card-img-top {
  
    object-fit: cover;
    
}

  @media (min-width: 576px) {
    .card-img-top {
        height: 19vw;
    }
  }

  @media (min-width: 768px) {
    .card-img-top {
        height: 16vw;
    }
  }

  @media (min-width: 992px) {
    .card-img-top {
        height: 11vw;
    }
  }

  @media (min-width: 992px) {
    .card-img-top {
        height: 11vw;
    }
  } */
    .pagination .page-item {
        margin: 0 5px;
    }

    .pagination .page-link {
        color: #000000;
        background-color: #ffffff;
             border-color:#fff ;
    }

    .pagination .page-link:hover {
        color: #ffffff;
        background-color: #000000;
        border: 1px solid #fff;
    }

    .pagination .page-item.active .page-link {
        z-index: 3;
        color: #ffffff;
        background-color: #000000;
             box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(229, 227, 223, 0.6);
    }

    .pagination .page-link:focus,
    .pagination .page-link:active {
      box-shadow: none; /* Remove the default box shadow */
        outline: none; /* Remove the default outline */
      
    }
  </style>
</head>
<body>

<div class="container">
<header class="border-bottom lh-1 py-3">

</header>

</div>

<main class="container-fluid">
  <div class="p-4 p-md-5 mb-4 rounded text-body-emphasis bg-dark ">
    <div class="col-lg-6 px-0 text-light ">
      <h1 class="display-4 fst-italic ">{{admin_posts.title}}!</h1>
      <p class="lead my-3">{% if admin_posts.blog_content|length > 200 %}{{ admin_posts.blog_content|slice:":210" }}...{% else %}{{ admin_posts.blog_content }}{% endif %}</p>
      <p class="lead mb-0"><a href="{% url 'post_detail' admin_posts.id  %}" class="text-light fw-bold ">Read More...</a></p>
    </div>
  </div>
</div>
<!-- <div class="row align-items-md-stretch">
    {% for post in latest_posts %}
    <div class="col-md-6 mb-2">
        <div class="h-100 p-5 text-bg-dark rounded-3">

            <p class="fst-italic">{% if post.blog_content|length > 130 %}{{ post.blog_content|slice:":140" }}...{% else %}{{ post.blog_content }}{% endif %}</p>
            <a href="{% url 'post_detail' post.id  %}" class="btn btn-dark text-light fw-bold" type="button">Read More ...</a>
        </div>
    </div>
    {% endfor %}
</div> -->


  <!--Main layout-->
  <main class="my-5">
    <div class="container">
    <!-- Every Posts -->

<section class="bsb-blog-5 py-3 py-md-5 py-xl-8">
  <div class="container">
    <div class="row justify-content-md-center">
      <div class="col-12 col-md-10 col-lg-8 col-xl-7 col-xxl-6">
        <h2 id="category-title" class="display-5 mb-4 mb-md-5 text-center">
          <!-- Content will be dynamically updated by JavaScript -->
        </h2>
        <hr class="w-50 mx-auto mb-5 mb-xl-9 border-dark-subtle">
      </div>
    </div>
  </div>

      <!-- Dropdown for selecting category -->
      <form method="get">
        <div class="input-group ">
          <select name="category" id="category" class="form-select">
              <option value="">All Categories</option>
              <option value="Tech" {% if selected_category == 'Tech' %}selected{% endif %}>Tech</option>
              <option value="Entertainment" {% if selected_category == 'Entertainment' %}selected{% endif %}>Entertainment</option>
              <option value="Educational" {% if selected_category == 'Educational' %}selected{% endif %}>Educational</option>
          </select>
          <button type="submit" class="btn btn-dark">Filter</button>
        </div>
    </form>


  <div class="container overflow-hidden" id="articles">
    <div class="row gy-4 gy-md-5 gx-xl-6 gy-xl-6 gx-xxl-9 gy-xxl-9">
      {% for post in page_obj.object_list %}
      <div class="col-12 col-lg-4">
        <article>
          <div class="card border-0 bg-transparent">
            <figure class="card-img-top mb-4 overflow-hidden bsb-overlay-hover ">
              <a href="{% url 'post_detail' post.id  %}">
                <img class="img-fluid bsb-scale bsb-hover-scale-up " loading="lazy" src="{{post.post_image.url}}" alt="noimage" height="500px">
              </a>
              <figcaption>
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-eye text-white bsb-hover-fadeInLeft" viewBox="0 0 16 16">
                  <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z" />
                  <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z" />
                </svg>
                <h4 class="h6 text-white bsb-hover-fadeInRight mt-2">Read More</h4>
              </figcaption>
            </figure>
            <div class="card-body m-0 p-0">
              <div class="entry-header mb-3">
  
                <h2 class="card-title entry-title h4 m-0 ">
                  <a class="link-dark text-decoration-none" href="#!">{{post.title}}</a>
                </h2>
              </div>
            </div>
            <div class="card-footer border-0 bg-transparent p-0 m-0">
              <ul class="entry-meta list-unstyled d-flex align-items-center m-0">
                <li>
                  <a class="fs-7 link-secondary text-decoration-none d-flex align-items-center" href="#!">
                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" class="bi bi-calendar3" viewBox="0 0 16 16">
                      <path d="M14 0H2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zM1 3.857C1 3.384 1.448 3 2 3h12c.552 0 1 .384 1 .857v10.286c0 .473-.448.857-1 .857H2c-.552 0-1-.384-1-.857V3.857z" />
                      <path d="M6.5 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2z" />
                    </svg>
                    <span class="ms-2 fs-7">{{post.date_added}}</span>
                  </a>
                </li>
                <!-- <li>
                  <span class="px-3">&bull;</span>
                </li> -->
                <!-- <li>
                  <a class="link-secondary text-decoration-none d-flex align-items-center" href="#!">
                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" class="bi bi-chat-dots" viewBox="0 0 16 16">
                      <path d="M5 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z" />
                      <path d="m2.165 15.803.02-.004c1.83-.363 2.948-.842 3.468-1.105A9.06 9.06 0 0 0 8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6a10.437 10.437 0 0 1-.524 2.318l-.003.011a10.722 10.722 0 0 1-.244.637c-.079.186.074.394.273.362a21.673 21.673 0 0 0 .693-.125zm.8-3.108a1 1 0 0 0-.287-.801C1.618 10.83 1 9.468 1 8c0-3.192 3.004-6 7-6s7 2.808 7 6c0 3.193-3.004 6-7 6a8.06 8.06 0 0 1-2.088-.272 1 1 0 0 0-.711.074c-.387.196-1.24.57-2.634.893a10.97 10.97 0 0 0 .398-2z" />
                    </svg> -->
                    <!-- <span class="ms-2 fs-7">383</span>
                  </a>
                </li> -->
              </ul>
            </div>
          </div>
        </article>
      </div>
      {% endfor %}
    </div>
  </div>

</section>
      </section>
      

      <!-- Pagination -->
     <nav class="my-4" aria-label="...">
        <ul class="pagination pagination-circle justify-content-center">
          <li class="page-item  ">
            {%if page_obj.has_previous %} {# whether the previous page exists #}
            <a class="page-link" href="?page={{page_obj.previous_page_number}}" tabindex="-1" aria-disabled="true">Previous</a>
            {% endif %}
          </li>
          {% for num in page_obj.paginator.page_range %}
          <li class="page-item {% if num == page_obj.number %}active{% endif %}">
              <a class="page-link" href="?page={{ num }}">{{ num }}</a>
          </li>
          {% endfor %}
          <li class="page-item">
            {%if page_obj.has_next %} {# whether the next page exists #}
            <a class="page-link" href="?page={{page_obj.next_page_number}}">Next</a>
            {% endif %}
          </li>
        </ul>
      </nav> 
    </div>
  </main>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Function to get a query parameter from the URL
    function getUrlParameter(name) {
      name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
      var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
      var results = regex.exec(window.location.search);
      return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
    }

    // Get the value of the 'category' parameter from the URL
    var selectedCategory = getUrlParameter('category');

    var categoryTitleElement = document.getElementById('category-title');
    var category = document.getElementById('category');

    // Update the content of the h2 element based on the selected category
    if (selectedCategory) {
      categoryTitleElement.textContent = 'Posts On ' + selectedCategory;
    } else {
      categoryTitleElement.textContent = 'All Categories';
    }

    
  });
</script>

{% endblock content %}